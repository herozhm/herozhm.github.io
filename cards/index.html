<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>宫崎骏</title>
    <link rel="stylesheet" href="./css/gong.css">
</head>

<body>
    <div class="stage">
        <dl>
            <dt>Movies</dt>
            <dd>Popular</dd>
        </dl>

        <div class="items">
            <div class="card">
                <div class="tit">
                    <h2>Princess Mononoke</h2>
                </div>
            </div>
            <div class="card">
                <div class="tit">
                    <h2>Spirited Away</h2>
                </div>
            </div>
            <div class="card">
                <div class="tit">
                    <h2>Howl's Moving Castle</h2>
                </div>
            </div>
        </div>
    </div>

    <script>
        var stage = document.querySelector(".stage");
        var cards = stage.querySelectorAll(".items .card");
        document.body.onmousemove = function(event) {
            var x = event.clientX - stage.offsetLeft - stage.offsetWidth / 2;
            var y = event.clientY - stage.offsetTop - stage.offsetHeight / 2;

            stage.style.transform = "rotateY(" + -x / 50 + "deg) rotateX(" + y / 50 + "deg)";

            // 遍历卡片
            cards.forEach(function(card, index) {


                card.style.backgroundPosition = -x / 80 + 10 + "px " +
                    (-y / 80 + 60) + "px," +
                    (x / 80 + -10) + "px " +
                    (y / 80 + -10) + "px";

                if (index == 1) {
                    card.style.backgroundPosition = -x / 80 + 30 + "px " +
                        (-y / 80 + 60) + "px," +
                        (x / 80 + -10) + "px " +
                        (y / 80 + -10) + "px";
                }
            });
        };
    </script>
</body>

</html>